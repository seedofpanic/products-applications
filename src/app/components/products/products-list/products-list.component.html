<table mat-table *ngIf="products$ | async as products; else loading" [dataSource]="products">
  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row class="item" *matRowDef="let myRowData; columns: columnsToDisplay"></tr>

  <ng-container matColumnDef="title">
    <th mat-header-cell *matHeaderCellDef> Title </th>
    <td mat-cell *matCellDef="let product" class="title no-br"> {{product.title}} </td>
  </ng-container>

  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef> Description </th>
    <td mat-cell *matCellDef="let product" class="description"> {{product.desc}} </td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef> Actions </th>
    <td mat-cell *matCellDef="let product" class="apply-button no-br"> <button mat-button (click)="openProductApplicationForm(product)">apply</button> </td>
  </ng-container>
</table>

<ng-template #loading>
  <div class="loading">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
